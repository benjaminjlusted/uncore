[gd_scene load_steps=23 format=3 uid="uid://brf47068ghctn"]

[ext_resource type="Script" path="res://scripts/player/states/state_machine/state_machine.gd" id="1_22q0r"]
[ext_resource type="Script" path="res://scripts/player/player.gd" id="1_qjj6h"]
[ext_resource type="Script" path="res://scripts/player/states/player_state_idle.gd" id="2_gkacd"]
[ext_resource type="Resource" uid="uid://qcxoh4lago3k" path="res://scripts/inventory/player_normal_inventory.tres" id="2_hwsix"]
[ext_resource type="Texture2D" uid="uid://cgol46545su07" path="res://textures/player_spritesheet.png" id="2_k1eyr"]
[ext_resource type="Script" path="res://scripts/player/states/player_state_run.gd" id="3_ijs7f"]
[ext_resource type="Resource" uid="uid://43vov6ny3abg" path="res://scripts/inventory/player_implant_inventory.tres" id="3_q0qjt"]
[ext_resource type="Script" path="res://scripts/player/states/player_state_inair.gd" id="4_eqvir"]
[ext_resource type="Script" path="res://scripts/player/player_arms.gd" id="5_cdrfe"]
[ext_resource type="Script" path="res://scripts/player/states/state_machine/action_state_machine.gd" id="5_lkrfs"]
[ext_resource type="Resource" uid="uid://cw45ii2fqvsoq" path="res://scripts/items/utilities/health_stim.tres" id="6_m8sai"]
[ext_resource type="Resource" uid="uid://cc22cnursu27t" path="res://scripts/items/weapons/shell/blunderbuss.tres" id="8_0xii3"]
[ext_resource type="Resource" uid="uid://0rb1s3ubep46" path="res://scripts/items/weapons/shell/pump_shotgun.tres" id="8_ocsc7"]
[ext_resource type="PackedScene" uid="uid://dpga2pevde8nm" path="res://scenes/ui/reloading_progress_bar.tscn" id="14_pgxmy"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lw51x"]
size = Vector2(10, 24)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_feijq"]
size = Vector2(12, 24)

[sub_resource type="Animation" id="Animation_mlqe8"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 0)]
}

[sub_resource type="Animation" id="Animation_y60d7"]
resource_name = "fall"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(10, 0)]
}

[sub_resource type="Animation" id="Animation_1dkh0"]
resource_name = "idle"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 1,
"values": [Vector2i(0, 0), Vector2i(1, 0), Vector2i(2, 0), Vector2i(3, 0), Vector2i(4, 0)]
}

[sub_resource type="Animation" id="Animation_fbmgj"]
resource_name = "jump"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(9, 0)]
}

[sub_resource type="Animation" id="Animation_ixc0m"]
resource_name = "run"
length = 0.4
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("body:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [Vector2i(5, 0), Vector2i(6, 0), Vector2i(7, 0), Vector2i(8, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_84kpj"]
_data = {
"RESET": SubResource("Animation_mlqe8"),
"fall": SubResource("Animation_y60d7"),
"idle": SubResource("Animation_1dkh0"),
"jump": SubResource("Animation_fbmgj"),
"run": SubResource("Animation_ixc0m")
}

[node name="player" type="CharacterBody2D" node_paths=PackedStringArray("player_hands") groups=["Player"]]
z_index = 5
collision_layer = 2
script = ExtResource("1_qjj6h")
SPEED = 75.0
player_hands = NodePath("hands")
normal_inventory = ExtResource("2_hwsix")
implant_inventory = ExtResource("3_q0qjt")

[node name="body" type="Sprite2D" parent="."]
texture = ExtResource("2_k1eyr")
hframes = 11
vframes = 3

[node name="hands" type="Node2D" parent="." node_paths=PackedStringArray("holding_sprite", "reload_progress_bar") groups=["Player"]]
position = Vector2(0, -3)
script = ExtResource("5_cdrfe")
holding_sprite = NodePath("holding_item")
utility_item = ExtResource("6_m8sai")
primary_weapon = ExtResource("8_ocsc7")
secondary_weapon = ExtResource("8_0xii3")
max_bullets = 68
max_shells = 42
max_energy = 72
reload_progress_bar = NodePath("../reload_progress_bar")

[node name="holding_item" type="Sprite2D" parent="hands"]
position = Vector2(8, 0)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
visible = false
shape = SubResource("RectangleShape2D_lw51x")

[node name="ActionStateMachine" type="Node" parent="."]
script = ExtResource("5_lkrfs")

[node name="StateMachine" type="Node" parent="." groups=["Player"]]
script = ExtResource("1_22q0r")
initial_state = NodePath("Idle")

[node name="Idle" type="Node" parent="StateMachine"]
script = ExtResource("2_gkacd")

[node name="Run" type="Node" parent="StateMachine"]
script = ExtResource("3_ijs7f")

[node name="InAir" type="Node" parent="StateMachine"]
script = ExtResource("4_eqvir")

[node name="detection_area" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="detection_area"]
shape = SubResource("RectangleShape2D_feijq")
debug_color = Color(0.984314, 0, 0.352941, 0.0588235)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_84kpj")
}

[node name="reload_progress_bar" parent="." instance=ExtResource("14_pgxmy")]
offset_left = -12.0
offset_top = -18.0
offset_right = -12.0
offset_bottom = -18.0
